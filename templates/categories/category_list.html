<!-- templates/categories/category_list.html -->
{% extends 'base.html' %}

{% block content %}
<div class="container">
    <div class="header-row">
        <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
        <a href="{% url 'category_create' %}" class="btn btn-primary">
            <span>+</span>
            –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
        </a>
    </div>

    {% if categories %}
    <div class="category-grid">
        {% for category in categories %}
        <div class="category-card">
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                <div>
                    <h3>{{ category.name }}</h3>
                    <span style="color: var(--secondary); font-size: 0.875rem;">
                        {{ category.transaction_set.count }} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                    </span>
                </div>
            </div>
            
            <div class="category-actions">
                <a href="{% url 'transaction_list' %}?category={{ category.id }}" 
                   class="btn btn-sm">
                    –°–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                </a>
                
                <form method="post" action="{% url 'category_delete' category.pk %}" style="margin: 0;">
                    {% csrf_token %}
                    <button type="submit" 
                            class="btn btn-danger "
                            onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ¬´{{ category.name }}¬ª?')">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-state-icon">üìÇ</div>
        <p class="empty-state-text">–ö–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
        <a href="{% url 'category_create' %}" class="btn btn-primary">
            –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}